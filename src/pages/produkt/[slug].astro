---
//ts-nocheck
import MainLayout from "../../layouts/MainLayout.astro";
import Button from '../../components/Button.astro';
import Link from '../../components/Link.astro';
import { Image } from 'astro:assets';
import logo from "../../assets/images/logo-red.svg";
import Map from '../../components/folg-med-maps.astro';
import { apiDetails } from "../../settings";
import LogoMaskot from "../../assets/images/fatter-maskot.png";
import Produktbg from "../../assets/images/shop-bg-singleview.jpg";
import KlisterBg from "../../assets/images/aabningstider-bg.png";
import Facebook from "../../assets/images/facebook-ikon.png";
import Instagram from "../../assets/images/instagram-ikon.png";
import Mail from "../../assets/images/mail-ikon.png";

export async function getStaticPaths() {
  const res = await fetch(`${apiDetails.supabaseUrl}/rest/v1/products?select=*`, {
    headers: {
      apikey: apiDetails.supabaseAnonKey,
      Authorization: `Bearer ${apiDetails.supabaseAnonKey}`,
    },
  });
  const data = await res.json();

  return data.map((product) => {
    return {
      params: { slug: product.slug },
      props: { myProduct: product },
    };
  });
}


const { myProduct } = Astro.props;
---
<MainLayout title="Titel"> 
<article id="produkt" class="grid md:grid-cols-2 pt-2xl md:pt-6xl">
<div class="overflow-hidden grid items-center justify-self-center justify-center w-9xl h-9xl bg-red-50 md:bg-no-repeat md:bg-contain md:bg-center" style="background-image: url('../shop-bg-singleview.jpg');">
            <img src={`/product_images/${myProduct.image}`} alt={myProduct.name} class="z-30 object-cover w-auto h-8xl p-xxs" />
			<Image class="h-9xl w-auto absolute z-10" src={Produktbg} alt="billede af kiosk"/>
        </div>  
<div class="flex flex-col -order-1 md:order-1 pt-xl pb-sm md:pt-none md:pb-none">
	<div class="flex flex-col">  
  <h2>{myProduct.name}</h2>
    <h4 class="text-brun-700">{myProduct.price} kr</h4>
</div>
    <p>{myProduct.name}</p>
</div>
	</article>

  <article id="andre-varer" class="flex flex-col w-screen justify-center items-center md:m-auto pt-lg pb-ml md:pb-none lg:pt-none" >
	<Image class="hidden md:block md:h-[560px] w-auto absolute z-10" src={KlisterBg} alt="billede af kiosk"/>
	<h4 class="md:hidden block">Lad os holde kontakten</h4>
		<div class="z-20 mx-m md:h-[500px] h-auto flex flex-col md:flex-row justify-center items-center px-3xl py-sm bg-beige-200 md:bg-transparent shadow-long md:shadow-none">
			<div class=" flex flex-col justify-center items-center">
				<h4 class="hidden md:block">Lad os holde kontakten</h4>
				<div class="flex flex-col md:flex-row h-auto md:h-2xl gap-s md:gap-m">
					<Image class="w-xl md:w-2xl lg:w-1xl h-auto" src={Facebook} alt="Logo maskot"/>
					<Image class="w-xl md:w-2xl lg:w-1xl h-auto" src={Instagram} alt="Logo maskot"/>
				<Image class="w-xl md:w-2xl lg:w-1xl h-auto" src={Mail} alt="Logo maskot"/>
				
			</div>
			</div>
			<Image class="w-6xl md:w-6xl lg:w-7xl h-auto" src={LogoMaskot} alt="Logo maskot"/>
		</div>
	</article>
<Map/>
</MainLayout>
